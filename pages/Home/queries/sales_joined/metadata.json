{
  "gitSyncId": "68b6eff59289a93060f5089f_be056d93-ef52-4e2e-9242-bd9121634bbb",
  "id": "Home_sales_joined",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "WITH bounds AS (\n  SELECT\n    -- Define local dates in Asia/Karachi\n    ((now() AT TIME ZONE 'Asia/Karachi')::date - INTERVAL '1 day') AS yday_local_date,\n    (now() AT TIME ZONE 'Asia/Karachi')::date AS today_local_date\n),\nwindow_utc AS (\n  SELECT\n    -- Convert Karachi local midnight boundaries to UTC\n    (yday_local_date::timestamp AT TIME ZONE 'Asia/Karachi') AS start_utc,\n    ((today_local_date + 1)::timestamp AT TIME ZONE 'Asia/Karachi') AS end_utc\n  FROM bounds\n)\nSELECT\n  s.sale_id,\n  s.date_added,\n  s.total_charged,\n  s.total_paid,\n  s.amount_due,\n  s.invoice_loc,\n  c.name AS customer_name,\n  e.name AS employee_name\nFROM\n  bj.sales AS s\nJOIN\n  bj.customer  AS c ON s.customer_id = c.customer_id\nJOIN\n  bj.employees AS e ON s.employee_id = e.employee_id\nWHERE\n  s.date_added >= (SELECT start_utc FROM window_utc)\n  AND s.date_added <  (SELECT end_utc FROM window_utc)\nORDER BY\n  s.date_added DESC;\n",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 30000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "BJ Neon",
      "isAutoGenerated": false,
      "name": "BJ Neon",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [],
    "name": "sales_joined",
    "pageId": "Home",
    "runBehaviour": "AUTOMATIC",
    "userSetOnLoad": false
  }
}